[
	{
		"name": "unb_servicos",
		"comment": "Catalog for ems_unb_servicos",
		"owner": "unb_servicos",
		"version": "1.0.0",
		"service" : "ems_daemon_service:start",
		"url": "/unb/unb_servicos/daemon",
		"port" : 5555,
		"filename" : "{{JAVA_JAR_PATH}}/unb_sevicos-1.0.0-SNAPSHOT-exec.jar",
		"logfile" : "{{JAVA_JAR_PATH}}/server.log",
		"start_cmd" : "{{JAVA_HOME}}/bin/java -jar  {{FILENAME}} -Dems_daemon_id={{DAEMON_ID}} -Dems_daemon_service={{DAEMON_SERVICE}} -Dems_pidfile={{PIDFILE}} -Dems_pidfile_watchdog_timer={{PIDFILE_WATCHDOG_TIMER}}  --server.port={{PORT}} -Dems_daemon_params={{DAEMON_PARAMS}} >> {{LOGFILE}}",
		"stop_cmd" : "kill {{DAEMON_PID}}",
		"kill_cmd" : "kill -9 {{DAEMON_PID}}",
		"pidfile" : "{{JAVA_JAR_PATH}}/unb_servicos_port_{{PORT}}.pid",
		"pidfile_watchdog_timer" : 30000,
		"daemon_watchdog" : true,
		"daemon_watchdog_policy" : "link",
		"daemon_params_encode" : "base64",
		"daemon_params" : {
			"jdbc.driverClassName" : "net.sourceforge.jtds.jdbc.Driver",
			"jdbc.url" : "{{JDBC_CONNECTION_STRING}}",
			"jdbc.username" : "{{JDBC_USERNAME}}",
			"jdbc.password" : "{{JDBC_PASSWORD}}",
			"hibernate.max_fetch_depth" : 3,
			"hibernate.jdbc.fetch_size" : 50,
			"hibernate.jdbc.batch_size" : 10,
			"hibernate.show_sql" : true,
			"spring.jpa.hibernate.format_sql" : true,
			"erlangms.node" : "node01",
			"erlangms.url" : "{{REST_BASE_URL}}",
			"erlangms.environment" : "{{REST_ENVIRONMENT}}",
			"erlangms.user" : "{{REST_USER}}",
			"erlangms.password" : "{{REST_PASSWD}}",
			"erlangms.java_thread_pool" : "{{JAVA_THREAD_POOL}}",
			"erlangms.smtp.password" : "{{SMTP_PASSWD}}",
			"erlangms.smtp.from" : "{{SMTP_FROM}}",
			"erlangms.smtp.port" : "{{SMTP_PORT}}",
			"erlangms.smtp.mail" : "{{SMTP_MAIL}}",
			"erlangms.ldap.url" : "{{LDAP_URL}}",
			"erlangms.ldap.admin" : "{{LDAP_ADMIN}}",
			"erlangms.ldap.passwd" : "{{LDAP_PASSWD}}"
		},
		"scan_catalogs_jarfile" : true,
		"scan_catalogs_path" : "BOOT-INF/classes/catalogo/catalogo_unb_servicos.json",
		"hotdeploy" : true,
		"type": "KERNEL",
		"enable" : false,
		"timeout" : 15000,
		"start_timeout" : 5000,
		"lang" : "erlang",
		"pool_size" : 1,
		"pool_max" : 1
	},
	
	{
		"name": "/unb_servicos/restart",
		"comment": "Restart unb_servicos.",
		"owner": "unb_servicos",
		"version": "1.0.0",
		"service" : "ems_daemon_service:restart_daemon",
		"url": "/unb_servicos/restart",
		"type": "POST",
		"lang" : "erlang",
		"restricted" : true
	},
	
	{
		"name": "/unb_servicos/start",
		"comment": "Start unb_servicos.",
		"owner": "unb_servicos",
		"version": "1.0.0",
		"service" : "ems_daemon_service:start_daemon",
		"url": "/unb_servicos/start",
		"type": "POST",
		"lang" : "erlang",
		"restricted" : true
	},
	
	{
		"name": "/unb_servicos/stop",
		"comment": "Stop unb_servicos.",
		"owner": "unb_servicos",
		"version": "1.0.0",
		"service" : "ems_daemon_service:stop_daemon",
		"url": "/unb_servicos/stop",
		"type": "POST",
		"lang" : "erlang",
		"restricted" : true
	},
	
	{
		"name": "/unb_servicos/kill",
		"comment": "Stop unb_servicos.",
		"owner": "unb_servicos",
		"version": "1.0.0",
		"service" : "ems_daemon_service:kill_daemon",
		"url": "/unb_servicos/kill",
		"type": "POST",
		"lang" : "erlang",
		"restricted" : true
	},

	{
		"name": "/unb_servicos/watchdog",
		"comment": "watchdog unb_servicos.",
		"owner": "unb_servicos",
		"version": "1.0.0",
		"service" : "ems_daemon_service:watchdog_daemon",
		"url": "/unb_servicos/watchdog",
		"type": "POST",
		"lang" : "erlang",
		"restricted" : true
	},
	
	{
		"name": "/unb_servicos/log",
		"comment": "Retorna o arquivo de log completo",
		"owner": "netadm",
		"version": "1.0.0",
		"service" : "ems_static_file_service:execute",
		"url": "/unb_servicos/log",
		"filename" : "{{JAVA_JAR_PATH}}/server.log",
		"content_type":"text/plain",
		"type": "GET",
		"lang" : "erlang",
		"restricted" : true
	},
	
	{
		"name": "/unb_servicos/log/head",
		"comment": "Show log head.",
		"owner": "netadm",
		"version": "1.0.0",
		"service" : "ems_logger_os_service:log_file_head",
		"url": "/unb_servicos/log/head",
		"filename" : "{{JAVA_JAR_PATH}}/server.log",
		"async": "false",
		"result_cache" : 0,
		"type": "GET",
		"lang" : "erlang",
		"restricted" : true
	},
	
	{
		"name": "/unb_servicos/log/tail",
		"comment": "Show log head.",
		"owner": "netadm",
		"version": "1.0.0",
		"service" : "ems_logger_os_service:log_file_tail",
		"url": "/unb_servicos/log/tail",
		"filename" : "{{JAVA_JAR_PATH}}/server.log",
		"async": "false",
		"result_cache" : 0,
		"type": "GET",
		"lang" : "erlang",
		"restricted" : true
	},

	{
		"name": "/unb_servicos/log/filename",
		"comment": "Show log head.",
		"owner": "netadm",
		"version": "1.0.0",
		"service" : "ems_logger_os_service:log_file_name",
		"url": "/unb_servicos/log/filename",
		"filename" : "{{JAVA_JAR_PATH}}/server.log",
		"async": "false",
		"result_cache" : 0,
		"type": "GET",
		"lang" : "erlang",
		"restricted" : true
	},
	
	{
		"name": "/unb_servicos/ps",
		"comment": "Exibe o comando ps em relação ao unb_servicos",
		"owner": "netadm",
		"version": "1.0.0",
		"service" : "ems_cmd_service:execute",
		"url": "/unb_servicos/ps",
		"script" : [ "ps aux | grep unb_servicos" ],
		"content_type" : "text/plain",
		"type": "GET",
		"lang" : "erlang",
		"restricted" : true
	}
	
	
]
